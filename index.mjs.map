{"version":3,"file":"index.mjs","sources":["../lib/dtypes.js","../lib/validate.js","../lib/factory.js","../lib/main.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport dtypes from '@stdlib/array-typed-real-float-dtypes';\n\n\n// MAIN //\n\n/**\n* List of supported data types.\n*\n* @private\n* @name DTYPES\n* @type {StringArray}\n*/\nvar DTYPES = dtypes();\nDTYPES.push( 'generic' );\n\n\n// EXPORTS //\n\nexport default DTYPES;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport isObject from '@stdlib/assert-is-plain-object';\nimport hasOwnProp from '@stdlib/assert-has-own-property';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport DTYPES from './dtypes.js';\n\n\n// MAIN //\n\n/**\n* Validates function options.\n*\n* @private\n* @param {Object} opts - destination object\n* @param {Options} options - function options\n* @param {string} [options.dtype] - array data type\n* @param {string} [options.order] - memory layout (either row-major or column-major)\n* @param {string} [options.mode] - specifies how to handle indices which exceed array dimensions\n* @param {StringArray} [options.submode] - specifies how to handle subscripts which exceed array dimensions on a per dimension basis\n* @param {boolean} [options.readonly] - boolean indicating whether an array should be read-only\n* @returns {(Error|null)} null or an error object\n*\n* @example\n* var opts = {};\n* var options = {\n*     'dtype': 'float64'\n* };\n* var err = validate( opts, options );\n* if ( err ) {\n*     throw err;\n* }\n*/\nfunction validate( opts, options ) {\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( format( 'null2h', options ) );\n\t}\n\tif ( hasOwnProp( options, 'dtype' ) ) {\n\t\topts.dtype = options.dtype;\n\t\tif ( DTYPES.indexOf( opts.dtype ) < 0 ) {\n\t\t\treturn new TypeError( format( 'null3t', 'dtype', DTYPES.join( '\", \"' ), opts.dtype ) );\n\t\t}\n\t}\n\t// Pass-through options...\n\tif ( hasOwnProp( options, 'order' ) ) {\n\t\topts.order = options.order;\n\t}\n\tif ( hasOwnProp( options, 'mode' ) ) {\n\t\topts.mode = options.mode;\n\t}\n\tif ( hasOwnProp( options, 'submode' ) ) {\n\t\topts.submode = options.submode;\n\t}\n\tif ( hasOwnProp( options, 'readonly' ) ) {\n\t\topts.readonly = options.readonly;\n\t}\n\treturn null;\n}\n\n\n// EXPORTS //\n\nexport default validate;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport setReadOnlyAccessor from '@stdlib/utils-define-nonenumerable-read-only-accessor';\nimport setReadWriteAccessor from '@stdlib/utils-define-nonenumerable-read-write-accessor';\nimport isArrayLikeObject from '@stdlib/assert-is-array-like-object';\nimport isndarrayLike from '@stdlib/assert-is-ndarray-like';\nimport { isPrimitive as isNumber } from '@stdlib/assert-is-number';\nimport constantFunction from '@stdlib/utils-constant-function';\nimport noop from '@stdlib/utils-noop';\nimport base from '@stdlib/random-base-exponential';\nimport ctors from '@stdlib/array-typed-real-float-ctors';\nimport filledBy from '@stdlib/array-base-filled-by';\nimport zeros from '@stdlib/array-base-zeros';\nimport nullaryStrided from '@stdlib/strided-base-nullary';\nimport unary from '@stdlib/ndarray-base-unary';\nimport broadcastArray from '@stdlib/ndarray-base-broadcast-array';\nimport shape2strides from '@stdlib/ndarray-base-shape2strides';\nimport numel from '@stdlib/ndarray-base-numel';\nimport ndarray from '@stdlib/ndarray-ctor';\nimport basendarray from '@stdlib/ndarray-base-ctor';\nimport format from '@stdlib/error-tools-fmtprodmsg';\nimport defaults from './defaults.json';\nimport validate from './validate.js';\n\n\n// MAIN //\n\n/**\n* Returns a function for generating pseudorandom numbers drawn from an exponential distribution.\n*\n* @param {Options} [options] - function options\n* @param {PRNG} [options.prng] - pseudorandom number generator which generates uniformly distributed pseudorandom numbers\n* @param {PRNGSeedMT19937} [options.seed] - pseudorandom number generator seed\n* @param {PRNGStateMT19937} [options.state] - pseudorandom number generator state\n* @param {boolean} [options.copy=true] - boolean indicating whether to copy a provided pseudorandom number generator state\n* @param {string} [options.dtype=\"float64\"] - default data type\n* @param {string} [options.order=\"row-major\"] - default memory layout (either row-major or column-major)\n* @param {string} [options.mode=\"throw\"] - default specifying how to handle indices which exceed array dimensions\n* @param {StringArray} [options.submode=[\"throw\"]] - default specifying how to handle subscripts which exceed array dimensions on a per dimension basis\n* @param {boolean} [options.readonly=false] - default indicating whether an array should be read-only\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} must provide valid options\n* @throws {Error} must provide a valid state\n* @returns {Function} function for creating arrays\n*\n* @example\n* var rand = factory({\n*     'dtype': 'generic',\n*     'order': 'column-major'\n* });\n* // returns <Function>\n*\n* var arr = rand( [ 10 ], 2.0 );\n* // returns <ndarray>\n*\n* @example\n* var rand = factory({\n*     'dtype': 'generic',\n*     'order': 'column-major'\n* });\n* // returns <Function>\n*\n* var arr = rand( [ 10 ], 2.0, {\n*     'dtype': 'float32'\n* });\n* // returns <ndarray>\n*/\nfunction factory() {\n\tvar options;\n\tvar opts;\n\tvar prng;\n\tvar err;\n\n\topts = {\n\t\t'dtype': defaults.dtype,\n\t\t'order': defaults.order\n\t};\n\n\tif ( arguments.length > 0 ) {\n\t\toptions = arguments[ 0 ];\n\t\tprng = base.factory( options );\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t} else {\n\t\tprng = base;\n\t}\n\tif ( options && options.prng ) {\n\t\tsetReadOnly( rand, 'seed', null );\n\t\tsetReadOnly( rand, 'seedLength', null );\n\t\tsetReadWriteAccessor( rand, 'state', constantFunction( null ), noop );\n\t\tsetReadOnly( rand, 'stateLength', null );\n\t\tsetReadOnly( rand, 'byteLength', null );\n\t} else {\n\t\tsetReadOnlyAccessor( rand, 'seed', getSeed );\n\t\tsetReadOnlyAccessor( rand, 'seedLength', getSeedLength );\n\t\tsetReadWriteAccessor( rand, 'state', getState, setState );\n\t\tsetReadOnlyAccessor( rand, 'stateLength', getStateLength );\n\t\tsetReadOnlyAccessor( rand, 'byteLength', getStateSize );\n\t}\n\tsetReadOnly( rand, 'PRNG', prng.PRNG );\n\tsetReadOnly( rand, 'assign', assign );\n\treturn rand;\n\n\t/**\n\t* Returns pseudorandom numbers drawn from an exponential distribution with rate parameter `lambda`.\n\t*\n\t* @private\n\t* @param {NonNegativeIntegerArray} shape - array shape\n\t* @param {(PositiveNumber|ndarrayLike)} lambda - rate parameter\n\t* @param {Options} [options] - function options\n\t* @param {string} [options.dtype] - array data type\n\t* @param {string} [options.order] - memory layout (either row-major or column-major)\n\t* @param {string} [options.mode] - specifies how to handle indices which exceed array dimensions\n\t* @param {StringArray} [options.submode] - specifies how to handle subscripts which exceed array dimensions on a per dimension basis\n\t* @param {boolean} [options.readonly] - boolean indicating whether an array should be read-only\n\t* @throws {TypeError} first argument must be a valid shape\n\t* @throws {TypeError} must provide valid distribution parameters\n\t* @throws {TypeError} distribution parameters and the desired shape must be broadcast compatible\n\t* @throws {TypeError} options argument must be an object\n\t* @throws {TypeError} must provide valid options\n\t* @returns {ndarray} output array\n\t*/\n\tfunction rand( shape, lambda, options ) {\n\t\tvar param1;\n\t\tvar ctor;\n\t\tvar buf;\n\t\tvar err;\n\t\tvar len;\n\t\tvar ord;\n\t\tvar FLG;\n\t\tvar out;\n\t\tvar dt;\n\t\tvar st;\n\t\tvar sh;\n\t\tvar o;\n\n\t\tif ( !isArrayLikeObject( shape ) ) {\n\t\t\tthrow new TypeError( format( 'null62', shape ) );\n\t\t}\n\t\tlen = numel( shape );\n\t\tif ( len < 0 ) {\n\t\t\tthrow new TypeError( 'invalid argument. First argument must be an array-like object containing nonnegative integers.' );\n\t\t}\n\t\to = {};\n\t\tif ( arguments.length > 2 ) {\n\t\t\terr = validate( o, options );\n\t\t\tif ( err ) {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\t\tdt = o.dtype || opts.dtype;\n\t\tord = o.order || opts.order;\n\n\t\t// Check whether we've been provided a scalar distribution parameter...\n\t\tif ( isNumber( lambda ) ) {\n\t\t\tparam1 = lambda;\n\t\t\tFLG = true;\n\t\t} else if ( isndarrayLike( lambda ) ) {\n\t\t\tsh = lambda.shape;\n\n\t\t\t// Check whether the distribution parameter is a zero-dimensional array...\n\t\t\tif ( sh.length === 0 ) {\n\t\t\t\tparam1 = lambda.get();\n\t\t\t\tFLG = true;\n\t\t\t} else {\n\t\t\t\t// Broadcast the distribution parameter to the desired shape:\n\t\t\t\tparam1 = broadcastArray( lambda, shape );\n\t\t\t\tFLG = false;\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be either a scalar or an ndarray-like object. Value: `%s`.', lambda ) );\n\t\t}\n\t\t// Handles special cases involving (1) zero-dimensional output ndarrays and (2) shapes having at least one dimension of size zero...\n\t\tif ( len === 0 ) {\n\t\t\t// Check for a zero-dimensional shape...\n\t\t\tif ( shape.length === 0 ) {\n\t\t\t\t// If the output array is a zero-dimensional ndarray, we generate a single random variate...\n\t\t\t\tif ( dt === 'generic' ) {\n\t\t\t\t\tbuf = [ 0.0 ];\n\t\t\t\t} else {\n\t\t\t\t\tctor = ctors( dt );\n\t\t\t\t\tbuf = new ctor( 1 );\n\t\t\t\t}\n\t\t\t\tbuf[ 0 ] = prng( param1 );\n\t\t\t\tst = [ 0 ];\n\t\t\t} else {\n\t\t\t\t// If the output array has one or more dimensions of size zero, we avoid allocating any memory, and instead return an empty ndarray...\n\t\t\t\tif ( dt === 'generic' ) {\n\t\t\t\t\tbuf = [];\n\t\t\t\t} else {\n\t\t\t\t\tctor = ctors( dt );\n\t\t\t\t\tbuf = new ctor( len );\n\t\t\t\t}\n\t\t\t\tst = shape2strides( shape, ord );\n\t\t\t}\n\t\t\treturn new ndarray( dt, buf, shape, st, 0, ord, o );\n\t\t}\n\t\t// If provided a scalar distribution parameter, we can simply fill a linear buffer with pseudorandom numbers (as all pseudorandom numbers are drawn from the same distribution) and then wrap as an ndarray...\n\t\tif ( FLG ) {\n\t\t\tif ( dt === 'generic' ) {\n\t\t\t\tbuf = filledBy( len, wrapper );\n\t\t\t} else {\n\t\t\t\tctor = ctors( dt );\n\t\t\t\tbuf = new ctor( len );\n\t\t\t\tnullaryStrided( [ buf ], [ len ], [ 1 ], wrapper );\n\t\t\t}\n\t\t\tst = shape2strides( shape, ord );\n\t\t\treturn new ndarray( dt, buf, shape, st, 0, ord, o );\n\t\t}\n\t\t// We've been provided an ndarray, so we need to broadcast and perform element-wise iteration...\n\n\t\t// Allocate a data buffer...\n\t\tif ( dt === 'generic' ) {\n\t\t\tbuf = zeros( len );\n\t\t} else {\n\t\t\tctor = ctors( dt );\n\t\t\tbuf = new ctor( len );\n\t\t}\n\t\t// Create the output array:\n\t\tst = shape2strides( shape, ord );\n\t\tout = new ndarray( dt, buf, shape, st, 0, ord );\n\n\t\t// Fill the output array with pseudorandom numbers:\n\t\tunary( [ param1, out ], prng );\n\n\t\treturn out;\n\n\t\t/**\n\t\t* Applies parameters to a pseudorandom number generator function.\n\t\t*\n\t\t* @private\n\t\t* @returns {number} pseudorandom number\n\t\t*/\n\t\tfunction wrapper() {\n\t\t\treturn prng( param1 );\n\t\t}\n\t}\n\n\t/**\n\t* Fills an ndarray with pseudorandom numbers drawn from an exponential distribution with rate parameter `lambda`.\n\t*\n\t* @private\n\t* @param {ndarrayLike} out - output array\n\t* @param {(PositiveNumber|ndarrayLike)} lambda - rate parameter\n\t* @throws {TypeError} first argument must be an ndarray\n\t* @throws {TypeError} must provide valid distribution parameters\n\t* @throws {TypeError} distribution parameters and the output array must be broadcast compatible\n\t* @returns {ndarray} output array\n\t*/\n\tfunction assign( out, lambda ) {\n\t\tvar param1;\n\t\tvar ctor;\n\t\tvar buf;\n\t\tvar dt;\n\t\tvar sh;\n\n\t\tif ( !isndarrayLike( out ) ) {\n\t\t\tthrow new TypeError( format( 'null67', out ) );\n\t\t}\n\t\tsh = out.shape;\n\n\t\t// Check whether we've been provided a scalar distribution parameter...\n\t\tif ( isNumber( lambda ) ) {\n\t\t\t// Wrap the scalar in a broadcasted ndarray...\n\t\t\tdt = out.dtype;\n\t\t\tif ( dt === 'generic' ) {\n\t\t\t\tbuf = [ lambda ];\n\t\t\t} else {\n\t\t\t\tdt = 'float64';\n\t\t\t\tctor = ctors( dt );\n\t\t\t\tbuf = new ctor( 1 );\n\t\t\t\tbuf[ 0 ] = lambda;\n\t\t\t}\n\t\t\tparam1 = new basendarray( dt, buf, sh, zeros( sh.length ), 0, 'row-major' );\n\t\t} else if ( isndarrayLike( lambda ) ) {\n\t\t\t// Broadcast the distribution parameter to the desired shape:\n\t\t\tparam1 = broadcastArray( lambda, sh );\n\t\t} else {\n\t\t\tthrow new TypeError( format( 'invalid argument. Second argument must be either a scalar or an ndarray-like object. Value: `%s`.', lambda ) );\n\t\t}\n\t\t// Fill the output array with pseudorandom numbers:\n\t\tunary( [ param1, out ], prng );\n\n\t\treturn out;\n\t}\n\n\t/**\n\t* Returns the PRNG seed.\n\t*\n\t* @private\n\t* @returns {PRNGSeedMT19937} seed\n\t*/\n\tfunction getSeed() {\n\t\treturn rand.PRNG.seed;\n\t}\n\n\t/**\n\t* Returns the PRNG seed length.\n\t*\n\t* @private\n\t* @returns {PositiveInteger} seed length\n\t*/\n\tfunction getSeedLength() {\n\t\treturn rand.PRNG.seedLength;\n\t}\n\n\t/**\n\t* Returns the PRNG state length.\n\t*\n\t* @private\n\t* @returns {PositiveInteger} state length\n\t*/\n\tfunction getStateLength() {\n\t\treturn rand.PRNG.stateLength;\n\t}\n\n\t/**\n\t* Returns the PRNG state size (in bytes).\n\t*\n\t* @private\n\t* @returns {PositiveInteger} state size (in bytes)\n\t*/\n\tfunction getStateSize() {\n\t\treturn rand.PRNG.byteLength;\n\t}\n\n\t/**\n\t* Returns the current pseudorandom number generator state.\n\t*\n\t* @private\n\t* @returns {PRNGStateMT19937} current state\n\t*/\n\tfunction getState() {\n\t\treturn rand.PRNG.state;\n\t}\n\n\t/**\n\t* Sets the pseudorandom number generator state.\n\t*\n\t* @private\n\t* @param {PRNGStateMT19937} s - generator state\n\t* @throws {Error} must provide a valid state\n\t*/\n\tfunction setState( s ) {\n\t\trand.PRNG.state = s;\n\t}\n}\n\n\n// EXPORTS //\n\nexport default factory;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nimport factory from './factory.js';\n\n\n// MAIN //\n\n/**\n* Returns pseudorandom numbers drawn from an exponential distribution with rate parameter `lambda`.\n*\n* @name exponential\n* @type {Function}\n* @param {NonNegativeIntegerArray} shape - array shape\n* @param {(PositiveNumber|ndarrayLike)} lambda - rate parameter\n* @param {Options} [options] - options\n* @param {string} [options.dtype=\"float64\"] - array data type\n* @param {string} [options.order=\"row-major\"] - memory layout (either row-major or column-major)\n* @param {string} [options.mode=\"throw\"] - specifies how to handle indices which exceed array dimensions\n* @param {StringArray} [options.submode=[\"throw\"]] - specifies how to handle subscripts which exceed array dimensions on a per dimension basis\n* @param {boolean} [options.readonly=false] - boolean indicating whether an array should be read-only\n* @throws {TypeError} first argument must be a valid shape\n* @throws {TypeError} must provide valid distribution parameters\n* @throws {TypeError} distribution parameters and the desired shape must be broadcast compatible\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} must provide valid options\n* @returns {ndarray} output array\n*\n* @example\n* var arr = exponential( [ 10 ], 2.0 );\n* // returns <ndarray>\n*\n* @example\n* var arr = exponential( [ 10 ], 2.0, {\n*     'dtype': 'generic'\n* });\n* // returns <ndarray>\n*/\nvar exponential = factory();\n\n\n// EXPORTS //\n\nexport default exponential;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2023 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Generate pseudorandom numbers drawn from an exponential distribution.\n*\n* @module @stdlib/random-exponential\n*\n* @example\n* import exponential from '@stdlib/random-exponential';\n*\n* var arr = exponential( [ 10 ], 2.0 );\n* // returns <ndarray>\n*\n* @example\n* import exponential from '@stdlib/random-exponential';\n*\n* var arr = exponential( [ 10 ], 2.0, {\n*     'dtype': 'generic'\n* });\n* // returns <ndarray>\n*\n* @example\n* import exponential from '@stdlib/random-exponential';\n*\n* var rand = exponential.factory({\n*     'dtype': 'generic',\n*     'order': 'column-major'\n* });\n* // returns <Function>\n*\n* var arr = rand( [ 10 ], 2.0 );\n* // returns <ndarray>\n*\n* @example\n* import exponential from '@stdlib/random-exponential';\n*\n* var rand = exponential.factory({\n*     'dtype': 'generic',\n*     'order': 'column-major'\n* });\n* // returns <Function>\n*\n* var arr = rand( [ 10 ], 2.0, {\n*     'dtype': 'float32'\n* });\n* // returns <ndarray>\n*/\n\n// MODULES //\n\nimport setReadOnly from '@stdlib/utils-define-nonenumerable-read-only-property';\nimport main from './main.js';\nimport factory from './factory.js';\n\n\n// MAIN //\n\nsetReadOnly( main, 'factory', factory );\n\n\n// EXPORTS //\n\nexport default main;\n\n// exports: { \"assign\": \"main.assign\", \"factory\": \"main.factory\" }\n"],"names":["DTYPES","dtypes","validate","opts","options","isObject","hasOwnProp","dtype","indexOf","TypeError","format","join","order","mode","submode","readonly","factory","prng","err","defaults","arguments","length","base","setReadOnly","rand","setReadWriteAccessor","constantFunction","noop","setReadOnlyAccessor","getSeed","getSeedLength","getState","setState","getStateLength","getStateSize","PRNG","assign","shape","lambda","param1","buf","len","ord","FLG","out","dt","st","o","isArrayLikeObject","numel","isNumber","isndarrayLike","get","broadcastArray","ctors","shape2strides","ndarray","filledBy","wrapper","nullaryStrided","zeros","unary","sh","basendarray","seed","seedLength","stateLength","byteLength","state","s","push","exponential","main"],"mappings":"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"}